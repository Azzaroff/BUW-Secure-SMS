<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Thu May 02 10:53:23 CEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ConversationsDataSource</title>
<meta name="date" content="2013-05-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConversationsDataSource";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConversationsDataSource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/mslab/encryptsms/misc/Conversation.ConversationCreator.html" title="class in com.mslab.encryptsms.misc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/mslab/encryptsms/misc/DatabaseController.html" title="class in com.mslab.encryptsms.misc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/mslab/encryptsms/misc/ConversationsDataSource.html" target="_top">Frames</a></li>
<li><a href="ConversationsDataSource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mslab.encryptsms.misc</div>
<h2 title="Class ConversationsDataSource" class="title">Class ConversationsDataSource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.mslab.encryptsms.misc.ConversationsDataSource</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ConversationsDataSource</span>
extends java.lang.Object</pre>
<div class="block">This class represents the interface to the enciphered database to store all conversations in it. 
 Additionally it manages the storage of secret keys and user contact details.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Paul Kramer</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#ConversationsDataSource(android.content.Context)">ConversationsDataSource</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Special constructor to open a database.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#addExchangeWaitingContact(com.mslab.encryptsms.misc.Contact, com.mslab.encryptsms.misc.DHKeyGen.DHKeyPair)">addExchangeWaitingContact</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact,
                         <a href="../../../../com/mslab/encryptsms/misc/DHKeyGen.DHKeyPair.html" title="class in com.mslab.encryptsms.misc">DHKeyGen.DHKeyPair</a>&nbsp;keypair)</code>
<div class="block">Creates a new contact in database with state "waiting for keyexchange".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#changeKey(byte[])">changeKey</a></strong>(byte[]&nbsp;newPassword)</code>
<div class="block">This method changes the password of the enciphered database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#close()">close</a></strong>()</code>
<div class="block">Method to close the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#createContact(com.mslab.encryptsms.misc.Contact)">createContact</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</code>
<div class="block">This method creates a new contact in databse from the given contact object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#createContact(com.mslab.encryptsms.misc.Contact, com.mslab.encryptsms.misc.DHKeyGen.DHKeyPair)">createContact</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact,
             <a href="../../../../com/mslab/encryptsms/misc/DHKeyGen.DHKeyPair.html" title="class in com.mslab.encryptsms.misc">DHKeyGen.DHKeyPair</a>&nbsp;keypair)</code>
<div class="block">Creates a contact from the given contact an the keypair.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#createConversation(com.mslab.encryptsms.misc.Conversation)">createConversation</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;conversation)</code>
<div class="block">This Method creates a new row in the sqlite database for the given conversation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#deleteContact(com.mslab.encryptsms.misc.Contact)">deleteContact</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</code>
<div class="block">Deletes the given contact from the database and removes all relations to other databases.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#deleteConversation(com.mslab.encryptsms.misc.Conversation)">deleteConversation</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;conversation)</code>
<div class="block">Deletes a conversation from the conversation database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#deleteConversations(com.mslab.encryptsms.misc.Contact)">deleteConversations</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</code>
<div class="block">Deletes all SMS that were received or sent to the given contact.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getAllContacts(boolean)">getAllContacts</a></strong>(boolean&nbsp;exchange_done)</code>
<div class="block">Loads all contacts from database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getAllContactsWithConversations()">getAllContactsWithConversations</a></strong>()</code>
<div class="block">Loads all contacts with a conversation into a list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getAllConversations()">getAllConversations</a></strong>()</code>
<div class="block">Gives a list of all conversations in database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getAllConversations(com.mslab.encryptsms.misc.Contact)">getAllConversations</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</code>
<div class="block">Gets a list of all conversations of the given contact sorted by date in descending order.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getAllOutboxConversations()">getAllOutboxConversations</a></strong>()</code>
<div class="block">Gives a list of all conversations of the outbox.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getContact(com.mslab.encryptsms.misc.Conversation)">getContact</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;conversation)</code>
<div class="block">Getter for a contact to a conversation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getContact(long)">getContact</a></strong>(long&nbsp;ID)</code>
<div class="block">Getter for a contact with given contact ID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getContact(java.lang.String)">getContact</a></strong>(java.lang.String&nbsp;phonenumber)</code>
<div class="block">Getter for the contacts.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getContactID(java.lang.String)">getContactID</a></strong>(java.lang.String&nbsp;originNumber)</code>
<div class="block">Gets the ID of the first contact with given phone number.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getConversation(long)">getConversation</a></strong>(long&nbsp;conversationID)</code>
<div class="block">Gives a special conversation with given conversation ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getDatabasePath()">getDatabasePath</a></strong>()</code>
<div class="block">Returns the absolute databsepath on device.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/DHKeyGen.DHKeyPair.html" title="class in com.mslab.encryptsms.misc">DHKeyGen.DHKeyPair</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getExchangeWaitingKeyPair(int)">getExchangeWaitingKeyPair</a></strong>(int&nbsp;contactID)</code>
<div class="block">Gets the keypair of the contact with given contacts ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#getSecondDatabasePath()">getSecondDatabasePath</a></strong>()</code>
<div class="block">Returns a databse path of the backup database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#isAnswerToKeyRequest(java.lang.String)">isAnswerToKeyRequest</a></strong>(java.lang.String&nbsp;phone)</code>
<div class="block">After a key request, a new contact should be added to the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#isOpen()">isOpen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#open(byte[])">open</a></strong>(byte[]&nbsp;password)</code>
<div class="block">Open method to open a databse</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#postProcessImport()">postProcessImport</a></strong>()</code>
<div class="block">This method creates all dependent database entries in other databases.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#removeExchangeWaitingKeyPair(int)">removeExchangeWaitingKeyPair</a></strong>(int&nbsp;contactID)</code>
<div class="block">Removes a waiting contact with given contact ID from the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#updateContact(com.mslab.encryptsms.misc.Contact, com.mslab.encryptsms.misc.Contact)">updateContact</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;newContact,
             <a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;oldContact)</code>
<div class="block">Updates the database with the attributes of newContact to oldContact.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#updateConversationState(com.mslab.encryptsms.misc.SentSMS)">updateConversationState</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/SentSMS.html" title="class in com.mslab.encryptsms.misc">SentSMS</a>&nbsp;sms)</code>
<div class="block">Updates the state of the conversation towards the state given in argument.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#updateExchangeState(com.mslab.encryptsms.misc.Contact)">updateExchangeState</a></strong>(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</code>
<div class="block">Changes the exchange state in the database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConversationsDataSource(android.content.Context)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConversationsDataSource</h4>
<pre>public&nbsp;ConversationsDataSource(android.content.Context&nbsp;context)</pre>
<div class="block">Special constructor to open a database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - the applicationcontext</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="open(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;boolean&nbsp;open(byte[]&nbsp;password)
             throws android.database.SQLException</pre>
<div class="block">Open method to open a databse</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>password</code> - The databasepassword.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if it was opened</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>android.database.SQLException</code> - if something goes wrong, like wrong password, no space on device or sth. like this.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Method to close the database. This method should be called after every 
 <a href="../../../../com/mslab/encryptsms/misc/ConversationsDataSource.html#open(byte[])"><code>open</code></a> method call to prevent of undefined states.</div>
</li>
</ul>
<a name="getDatabasePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabasePath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDatabasePath()</pre>
<div class="block">Returns the absolute databsepath on device.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The absolute database path.</dd></dl>
</li>
</ul>
<a name="getSecondDatabasePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecondDatabasePath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSecondDatabasePath()</pre>
<div class="block">Returns a databse path of the backup database.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The path to the backup database.</dd></dl>
</li>
</ul>
<a name="createContact(com.mslab.encryptsms.misc.Contact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createContact</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;createContact(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</pre>
<div class="block">This method creates a new contact in databse from the given contact object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - The contact to create in database.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The updates contact with row ID.</dd></dl>
</li>
</ul>
<a name="createContact(com.mslab.encryptsms.misc.Contact, com.mslab.encryptsms.misc.DHKeyGen.DHKeyPair)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createContact</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;createContact(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact,
                    <a href="../../../../com/mslab/encryptsms/misc/DHKeyGen.DHKeyPair.html" title="class in com.mslab.encryptsms.misc">DHKeyGen.DHKeyPair</a>&nbsp;keypair)</pre>
<div class="block">Creates a contact from the given contact an the keypair. The contact does not contain a secret and has the state "waiting".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - The contact to create.</dd><dd><code>keypair</code> - The keypair of the given contact.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An updated contact, including row ID and waiting state.</dd></dl>
</li>
</ul>
<a name="addExchangeWaitingContact(com.mslab.encryptsms.misc.Contact, com.mslab.encryptsms.misc.DHKeyGen.DHKeyPair)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addExchangeWaitingContact</h4>
<pre>public&nbsp;void&nbsp;addExchangeWaitingContact(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact,
                             <a href="../../../../com/mslab/encryptsms/misc/DHKeyGen.DHKeyPair.html" title="class in com.mslab.encryptsms.misc">DHKeyGen.DHKeyPair</a>&nbsp;keypair)</pre>
<div class="block">Creates a new contact in database with state "waiting for keyexchange".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - The contact to add</dd><dd><code>keypair</code> - The keypair.</dd></dl>
</li>
</ul>
<a name="getExchangeWaitingKeyPair(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExchangeWaitingKeyPair</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/DHKeyGen.DHKeyPair.html" title="class in com.mslab.encryptsms.misc">DHKeyGen.DHKeyPair</a>&nbsp;getExchangeWaitingKeyPair(int&nbsp;contactID)</pre>
<div class="block">Gets the keypair of the contact with given contacts ID. If the ID is not valid it returns null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contactID</code> - The ID of the contact to get the keypair from.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The keypair.</dd></dl>
</li>
</ul>
<a name="removeExchangeWaitingKeyPair(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeExchangeWaitingKeyPair</h4>
<pre>public&nbsp;boolean&nbsp;removeExchangeWaitingKeyPair(int&nbsp;contactID)</pre>
<div class="block">Removes a waiting contact with given contact ID from the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contactID</code> - The ID of the contact.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the contact exists and was sucesfully removed, otherwise false.</dd></dl>
</li>
</ul>
<a name="deleteContact(com.mslab.encryptsms.misc.Contact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteContact</h4>
<pre>public&nbsp;boolean&nbsp;deleteContact(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</pre>
<div class="block">Deletes the given contact from the database and removes all relations to other databases. After this 
 operation the contact was completely removed from all databases.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - The contact to remove.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the contact exists and the operation was successfully done. False otherwise.</dd></dl>
</li>
</ul>
<a name="updateContact(com.mslab.encryptsms.misc.Contact, com.mslab.encryptsms.misc.Contact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateContact</h4>
<pre>public&nbsp;boolean&nbsp;updateContact(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;newContact,
                    <a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;oldContact)</pre>
<div class="block">Updates the database with the attributes of newContact to oldContact. The new Contact gets the ID of the old one.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newContact</code> - The updated contact.</dd><dd><code>oldContact</code> - The contact to update.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if everything was successfully done, false otherwise.</dd></dl>
</li>
</ul>
<a name="updateExchangeState(com.mslab.encryptsms.misc.Contact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateExchangeState</h4>
<pre>public&nbsp;boolean&nbsp;updateExchangeState(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</pre>
<div class="block">Changes the exchange state in the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - The contact to thange its state.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if everything was successfully done, false otherwise.</dd></dl>
</li>
</ul>
<a name="getContact(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContact</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;getContact(java.lang.String&nbsp;phonenumber)</pre>
<div class="block">Getter for the contacts. Returns the first contact with given phone number.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>phonenumber</code> - The phonenumber of the contact.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The contact or null, if it does not exist.</dd></dl>
</li>
</ul>
<a name="getContact(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContact</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;getContact(long&nbsp;ID)</pre>
<div class="block">Getter for a contact with given contact ID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ID</code> - The ID of the contact what was searched for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The contact or null if it does not exist.</dd></dl>
</li>
</ul>
<a name="getContact(com.mslab.encryptsms.misc.Conversation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContact</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;getContact(<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;conversation)</pre>
<div class="block">Getter for a contact to a conversation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conversation</code> - The cnversation of the contact.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The contact or null.</dd></dl>
</li>
</ul>
<a name="getAllContacts(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllContacts</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&gt;&nbsp;getAllContacts(boolean&nbsp;exchange_done)</pre>
<div class="block">Loads all contacts from database. Depending on exchange_done, it loads only contacts where the key exchange was successful or not.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>exchange_done</code> - - true: only contacts with done key exchange</dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of all contacts</dd></dl>
</li>
</ul>
<a name="getAllContactsWithConversations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllContactsWithConversations</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&gt;&nbsp;getAllContactsWithConversations()</pre>
<div class="block">Loads all contacts with a conversation into a list.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of all contacts with a conversation.</dd></dl>
</li>
</ul>
<a name="getContactID(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContactID</h4>
<pre>public&nbsp;int&nbsp;getContactID(java.lang.String&nbsp;originNumber)</pre>
<div class="block">Gets the ID of the first contact with given phone number.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>originNumber</code> - The phone number of the contact.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The contact ID or -1 if it does not exist.</dd></dl>
</li>
</ul>
<a name="createConversation(com.mslab.encryptsms.misc.Conversation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConversation</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;createConversation(<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;conversation)</pre>
<div class="block">This Method creates a new row in the sqlite database for the given conversation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conversation</code> - the conversation to add to the database</dd>
<dt><span class="strong">Returns:</span></dt><dd>the same conversation with updated conversation ID</dd></dl>
</li>
</ul>
<a name="deleteConversation(com.mslab.encryptsms.misc.Conversation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteConversation</h4>
<pre>public&nbsp;int&nbsp;deleteConversation(<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;conversation)</pre>
<div class="block">Deletes a conversation from the conversation database. A conversation is one message, not a flow of messages.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conversation</code> - The conversation to remove.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of rows affected.</dd></dl>
</li>
</ul>
<a name="deleteConversations(com.mslab.encryptsms.misc.Contact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteConversations</h4>
<pre>public&nbsp;boolean&nbsp;deleteConversations(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</pre>
<div class="block">Deletes all SMS that were received or sent to the given contact. The SMS would deleted from the table conversation and from table had.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - - the contact deleting all messages from</dd>
<dt><span class="strong">Returns:</span></dt><dd>true, if the action was successful</dd></dl>
</li>
</ul>
<a name="getAllConversations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllConversations</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&gt;&nbsp;getAllConversations()</pre>
<div class="block">Gives a list of all conversations in database.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>List of all conversations.</dd></dl>
</li>
</ul>
<a name="getAllConversations(com.mslab.encryptsms.misc.Contact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllConversations</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&gt;&nbsp;getAllConversations(<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;contact)</pre>
<div class="block">Gets a list of all conversations of the given contact sorted by date in descending order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contact</code> - - the contact to look for its conversations</dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of all conversations sorted by date in descending order</dd></dl>
</li>
</ul>
<a name="getAllOutboxConversations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllOutboxConversations</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&gt;&nbsp;getAllOutboxConversations()</pre>
<div class="block">Gives a list of all conversations of the outbox.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>List of all outbox conversations.</dd></dl>
</li>
</ul>
<a name="getConversation(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConversation</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Conversation.html" title="class in com.mslab.encryptsms.misc">Conversation</a>&nbsp;getConversation(long&nbsp;conversationID)</pre>
<div class="block">Gives a special conversation with given conversation ID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conversationID</code> - The ID of the convresation.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A conversation or null, if it does not exist.</dd></dl>
</li>
</ul>
<a name="updateConversationState(com.mslab.encryptsms.misc.SentSMS)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateConversationState</h4>
<pre>public&nbsp;boolean&nbsp;updateConversationState(<a href="../../../../com/mslab/encryptsms/misc/SentSMS.html" title="class in com.mslab.encryptsms.misc">SentSMS</a>&nbsp;sms)</pre>
<div class="block">Updates the state of the conversation towards the state given in argument.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sms</code> - The sms with new state.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if it was successfull, false otherwise.</dd></dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
</li>
</ul>
<a name="postProcessImport()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postProcessImport</h4>
<pre>public&nbsp;long&nbsp;postProcessImport()</pre>
<div class="block">This method creates all dependent database entries in other databases.</div>
</li>
</ul>
<a name="changeKey(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeKey</h4>
<pre>public&nbsp;void&nbsp;changeKey(byte[]&nbsp;newPassword)</pre>
<div class="block">This method changes the password of the enciphered database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newPassword</code> - The new password.</dd></dl>
</li>
</ul>
<a name="isAnswerToKeyRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isAnswerToKeyRequest</h4>
<pre>public&nbsp;<a href="../../../../com/mslab/encryptsms/misc/Contact.html" title="class in com.mslab.encryptsms.misc">Contact</a>&nbsp;isAnswerToKeyRequest(java.lang.String&nbsp;phone)</pre>
<div class="block">After a key request, a new contact should be added to the database. If the contact
 sends a message, we have to look if it is an answer or a new key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>phone</code> - The phonenumber of the contact.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The contact.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConversationsDataSource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/mslab/encryptsms/misc/Conversation.ConversationCreator.html" title="class in com.mslab.encryptsms.misc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/mslab/encryptsms/misc/DatabaseController.html" title="class in com.mslab.encryptsms.misc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/mslab/encryptsms/misc/ConversationsDataSource.html" target="_top">Frames</a></li>
<li><a href="ConversationsDataSource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
